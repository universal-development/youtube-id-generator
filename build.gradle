subprojects {


    group = 'com.unidev.idgenerator'
    version = '0.0.1'

    apply plugin: 'maven'
    apply plugin: 'java'
    apply plugin: 'idea'

    repositories {
        mavenCentral()
    }

    // internal env configuration -Dunidev
    if (project.hasProperty('unidev')) {
        apply from: 'http://dev.local/gradle/uploadArchivesSftp.groovy'
        apply from: 'http://dev.local/gradle/defaultRepositories.groovy'
        apply from: 'http://dev.local/gradle/javadoc.groovy'
    }

    // bintray upload -Dbintray
    if (project.hasProperty('bintray')) {
        uploadArchives {
            repositories {
                mavenDeployer {
                    name = 'youtube-id-generator'
                    repository(id: 'unidev-platformy', url: 'https://api.bintray.com/content/universal-development/unidev-libs/youtube-id-generator/'+ project.version){
                        authentication(userName: System.getenv('BINTRAY_USER'), password: System.getenv('BINTRAY_KEY'))
                    }
                }
            }
        }

    }

    dependencies  {
        testCompile("org.assertj:assertj-core:3.9.1")

        testImplementation(
                'org.junit.jupiter:junit-jupiter-api:5.1.0'
        )
        testRuntimeOnly(
                'org.junit.jupiter:junit-jupiter-engine:5.1.0'
        )
    }

}
